<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login - GYM Management System</title>
<link rel="stylesheet" href="css/style.css" />
<script defer src="js/firebase-config.js"></script>
<script defer src="js/auth.js"></script>
<script defer src="js/logging.js"></script>
</head>
<body>
<div id="login-container">
  <h2>Login</h2>
  <form id="login-form">
    <select id="role-selector" required>
      <option value="">Select Role</option>
      <option value="admin">Admin</option>
      <option value="trainer">Trainer</option>
      <option value="member">Member</option>
    </select>
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />
    <meter max="4" id="strengthMeter"></meter>
    <p id="passwordStrength"></p>
    <label><input type="checkbox" id="rememberMe" /> Remember Me</label>
    <button type="submit">Login</button>
  </form>
  <button id="google-login">Login with Google</button>
  <button id="resetPasswordBtn">Forgot Password?</button>
</div>

<script>
  // Password strength
  const strengthMeter = document.getElementById('strengthMeter');
  const passwordInput = document.getElementById('password');
  const strengthText = document.getElementById('passwordStrength');

  passwordInput.addEventListener('input', () => {
    const val = passwordInput.value;
    let strength = 0;
    if(val.length > 7) strength++;
    if(val.match(/[a-z]/)) strength++;
    if(val.match(/[A-Z]/)) strength++;
    if(val.match(/[0-9]/)) strength++;
    strengthMeter.value = strength;
    const labels = ['Weak', 'Fair', 'Good', 'Strong', 'Very Strong'];
    strengthText.textContent = val ? `Strength: ${labels[strength]}` : '';
  });

  document.getElementById('resetPasswordBtn').addEventListener('click', () => {
    const email = prompt('Enter your email');
    if(email) alert('If this email exists, a reset link has been sent (placeholder)');
  });
</script>
</body>
</html>
